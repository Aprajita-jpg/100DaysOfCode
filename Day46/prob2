#include <iostream>
#include <vector>
using namespace std;

vector<int> diagonalTraversal(vector<vector<int>>& mat) {
    int n = mat.size();
    int m = mat[0].size();

    vector<int> result;

    for (int d = 0; d < n + m - 1; d++) {

        int row, col;

        // If diagonal is even → go UP
        if (d % 2 == 0) {
            row = min(d, n - 1);
            col = d - row;

            while (row >= 0 && col < m) {
                result.push_back(mat[row][col]);
                row--;
                col++;
            }
        }

        // If diagonal is odd → go DOWN
        else {
            col = min(d, m - 1);
            row = d - col;

            while (col >= 0 && row < n) {
                result.push_back(mat[row][col]);
                row++;
                col--;
            }
        }
    }

    return result;
}

int main() {
    vector<vector<int>> mat = {
        {1,  2,  3},
        {4,  5,  6},
        {7,  8,  9}
    };

    vector<int> ans = diagonalTraversal(mat);

    for (int x : ans) cout << x << " ";
    return 0;
}
